
Q&A
===

FutuOpenD相关
+++++++++++++++++++++++++++++++++++++++

Q1:因未同意免责声明退出
--------------------------------

A: 已开户用户需要同意 `免责声明 <https://www.futunn.com/about/api-disclaimer/>`_ 才可以使用FutuOpenD。

--------------------------------

Q2:因自带数据不存在退出
--------------------------------

A: 一般因权限问题导致自带数据拷贝失败，可以尝试将程序目录下Appdata.dat解压后的文件拷贝到程序数据目录下。

	+ windows程序数据目录：%appdata%/com.futunn.FutuOpenD/F3CNN
	+ 非windows程序数据目录：~/.com.futunn.FutuOpenD/F3CNN

----------------

Q3:FutuOpenD服务器启动失败
--------------------------------

A: 检查是否有配置了同样端口的FutuOpenD在运行以及是否有其他程序占用所配置的端口。

--------------------------------

Q4:如何验证手机验证码
--------------------------------

A: 在FutuOpenD界面上或远程到Telnet端口输入命令input_phone_verify_code -code=123456（手机验证码）。

	注 ：【-code=123456】前有空格

--------------------------------

Q5:是否支持其他编程语言
--------------------------------

A: FutuOpenD有对外提供基于socket的协议，但目前我们仅提供并维护python接口。

	注 ：QQ群部分用户已自行封装其他语言的接口。

--------------------------------

Q6:在同一设备多次验证设备锁 
--------------------------------

A: 设备标识随机生成并存放于com.futunn.FutuOpenD\\F3CNN\\Device.dat文件中。

	1. 如果删除或损坏会重新生成新设备标识然后验证设备锁
	2. 另外镜像拷贝部署的用户需要注意，如果多台机器的Device.dat内容相同，也会导致这些机器多次验证设备锁，删除Device.dat文件即可
	
--------------------------------

Q7:FutuOpenD是否有提供Docker镜像
--------------------------------

A: 目前没有。

--------------------------------

Q8:一个账号可以登录多个FutuOpenD吗？
------------------------------------

A: 一个账号可以在多台机器上登录FutuOpenD或者其他客户终端，最多10个终端同时登录。同时有“行情互踢”的限制，只能有一个最高权限行情。例如：两个终端登录同一个账号，只能有一个A股Level2行情，另一个是A股Level1行情。

--------------------------------


连接相关
++++++++++++++++++++++++++++++++++++++++++

Q1:脚本连接不上FutuOpenD
--------------------------------

A: 请先尝试检查是否以下情况：

	1. 脚本端口是否与FutuOpenD配置一致
	2. 连接上限为128，检查是否有无用连接没有关闭

--------------------------------

Q2:脚本连接上之后没反应
--------------------------------

A: 检查是否有启动API版本的PC牛牛(3.42)，若有则请关闭API版本的PC牛牛或者修改该版本的端口配置。

--------------------------------

Q3:连接上一段时间后断开
--------------------------------

A: 如果是自己对接协议，检查下是否有定时发送心跳维持连接。

--------------------------------

Q4:Linux下通过multiprocessing模块以多进程方式运行Python脚本可能会连不上FutuOpenD
------------------------------------------------------------------------------------------------

A: Linux/Mac环境下以默认方式创建进程后，父进程中py-futu-api内部创建的线程将会在子进程中消失，导致程序内部状态错误。可以用spawn方式来启动进程：

.. code:: python

    import multiprocessing as mp
    mp.set_start_method('spawn')
    p = mp.Process(target=func)
    ...


--------------------------------

行情相关
+++++++++++++++++++++++++++++++++++++++++

Q1:订阅失败
--------------------------------

A: 检查订阅接口返回的错误描述，常见有以下情况：

	1. 帐号无港股Lv2权限
	2. 帐号有港股Lv2权限，但被其他终端踢掉行情权限
	3. 帐号有赠送的港股Lv2权限，但赠送的港股Lv2权限只能在大陆IP机器使用。
	4. 订阅额度不足，订阅额度规则参见  `订阅限制 <../protocol/intro.html#id28>`_  
	
--------------------------------

Q2:反订阅失败
--------------------------------

A: 订阅至少一分钟后才能反订阅。

--------------------------------

Q3:反订阅成功但没返还额度
--------------------------------

A: 所有连接都对该行情反订阅才会返还额度。

--------------------------------

Q4:订阅不足一分钟关闭脚本会返还额度吗
----------------------------------------

A: 不返还。连接关闭后，订阅不足一分钟的行情一段时间后自动反订阅。

--------------------------------

Q5:请求限频逻辑是怎样
--------------------------------

A: 30秒内最多n次指第1次和第n+1次请求间隔需要大于30秒。

--------------------------------

Q6:如何获取一级用户权限
--------------------------------

A: 目前仅提供给有一定交易额的实盘交易用户，有需要可加入QQ群108534288联系管理员。

--------------------------------

交易相关
+++++++++++++++++++++++++++++++++++++++++

Q1:如何使用模拟交易
--------------------------------

A: 只要有牛牛帐号即可使用模拟交易，在使用交易接口时交易环境传入模拟环境即可。

--------------------------------

Q2:模拟与真实交易是否有区别
--------------------------------

A: 有区别:

	1. 订单的状态不支持删除、部分成交、生效、失效状态
	2. 不支持生效失效、删除订单操作，仅支持支持改单， 撤单
	3. 不支持成交数据，包括今日成交，历史成交，成交推送
	4. 下单仅支持Normal类型
	5. 模拟交易不需要解锁交易

	更多模拟交易规则可跳转至 `模拟交易规则 <https://m-match.futunn.com/simulate#/rule>`_。
	
--------------------------------

Q3:是否模拟交易可视化数据
--------------------------------
	
A: 可视数据可跳转至 `模拟炒股页面 <https://m-match.futunn.com/simulate/>`_，该页面仅支持手机浏览器访问。

--------------------------------

Q4:是否支持A股交易
--------------------------------

A: 支持A股模拟交易，真实交易可通过A股通交易部分A股。

--------------------------------

Q5:是否支持暗盘交易
--------------------------------

A: 支持，仅支持限价单，且需要确认 `暗盘交易风险 <https://help.futu5.com/darktrade/>`_ 才可以进行暗盘交易。

--------------------------------

Q6:各市场支持的交易方向
--------------------------------

A: 都只支持买入和卖出，但美股产生的订单类型可能会出现卖空和买回。

----------------

Q7:各市场支持的订单类型
--------------------------------

A: 
	+ 港股支持增强限价单，竞价单，竞价限价单，绝对限价单，特别限价单
	+ 美股支持限价单，市价单
	+ A股通仅支持A股限价委托 

----------------

Q8:各市场支持的订单操作
--------------------------------

A: 
	+ 港股支持改单、撤单、生效、失效、删除
	+ 美股仅支持改单和撤单
	+ A股通仅支持改单和撤单

----------------











